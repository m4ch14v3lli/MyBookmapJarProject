<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (20) -->
<title>OnlineCalculatable (Level1Api 7.6.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: velox.api.layer1.layers.strategies.interfaces, interface: OnlineCalculatable">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">velox.api.layer1.layers.strategies.interfaces</a></div>
<h1 title="Interface OnlineCalculatable" class="title">Interface OnlineCalculatable</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">OnlineCalculatable</span></div>
<div class="block">Strategy implementing this interfaces should support 2 types of requests.
 1. Calculate value for given time points
 2. Calculate value on fly when receiving new updates

 Calculated value can be any object

 Bottom panel will currently work with Double objects representing current value</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="OnlineCalculatable.DataCoordinateMarker.html" class="type-name-link" title="interface in velox.api.layer1.layers.strategies.interfaces">OnlineCalculatable.DataCoordinateMarker</a></code></div>
<div class="col-last even-row-color">
<div class="block">Marker bound to data coordinates.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="OnlineCalculatable.Marker.html" class="type-name-link" title="class in velox.api.layer1.layers.strategies.interfaces">OnlineCalculatable.Marker</a></code></div>
<div class="col-last odd-row-color">
<div class="block">If passed as value it will cause marker to be drawn at that place.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="OnlineCalculatable.ValueBundle.html" class="type-name-link" title="class in velox.api.layer1.layers.strategies.interfaces">OnlineCalculatable.ValueBundle</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#allowPartialUpdates(java.lang.String,java.lang.String)" class="member-name-link">allowPartialUpdates</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorName,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alias)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#calculateValuesInRange(java.lang.String,java.lang.String,long,long,int,velox.api.layer1.layers.strategies.interfaces.CalculatedResultListener)" class="member-name-link">calculateValuesInRange</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorName,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorAlias,
 long&nbsp;t0,
 long&nbsp;intervalWidth,
 int&nbsp;intervalsNumber,
 <a href="CalculatedResultListener.html" title="interface in velox.api.layer1.layers.strategies.interfaces">CalculatedResultListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">1st request type:
 Should calculate left to right values in given time points
 t0; t0 + intervalWidth; t0 + 2 * intervalWidth ...</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="OnlineValueCalculatorAdapter.html" title="interface in velox.api.layer1.layers.strategies.interfaces">OnlineValueCalculatorAdapter</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#createOnlineValueCalculator(java.lang.String,java.lang.String,long,java.util.function.Consumer,velox.api.layer1.layers.strategies.interfaces.InvalidateInterface)" class="member-name-link">createOnlineValueCalculator</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorName,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorAlias,
 long&nbsp;time,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;listener,
 <a href="InvalidateInterface.html" title="interface in velox.api.layer1.layers.strategies.interfaces">InvalidateInterface</a>&nbsp;invalidateInterface)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">2nd request type:</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#shouldRepeatCalculateValuesInRange(java.lang.String,java.lang.String,long,long)" class="member-name-link">shouldRepeatCalculateValuesInRange</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorName,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorAlias,
 long&nbsp;intervalWidth,
 long&nbsp;timePassed)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block"><b>Experimental! Note that if you use this functionality, you should always use <a href="OnlineValueCalculatorAdapter.html#onTimeSourceProvided(java.util.function.LongSupplier)"><code>OnlineValueCalculatorAdapter.onTimeSourceProvided(LongSupplier)</code></a> as your time source! </b><br></div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="calculateValuesInRange(java.lang.String,java.lang.String,long,long,int,velox.api.layer1.layers.strategies.interfaces.CalculatedResultListener)">
<h3>calculateValuesInRange</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">calculateValuesInRange</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorName,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorAlias,
 long&nbsp;t0,
 long&nbsp;intervalWidth,
 int&nbsp;intervalsNumber,
 <a href="CalculatedResultListener.html" title="interface in velox.api.layer1.layers.strategies.interfaces">CalculatedResultListener</a>&nbsp;listener)</span></div>
<div class="block">1st request type:
 Should calculate left to right values in given time points
 t0; t0 + intervalWidth; t0 + 2 * intervalWidth ... t0 + (intervalsNumber - 1) * intervalWidh)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>indicatorName</code> - name of indicator</dd>
<dd><code>indicatorAlias</code> - alias of this indicator</dd>
<dd><code>t0</code> - time of 1st value (in ns)</dd>
<dd><code>intervalWidth</code> - width of one calculated interval (in ns)</dd>
<dd><code>intervalsNumber</code> - number of values to calculate, &gt;= 0</dd>
<dd><code>listener</code> - </dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createOnlineValueCalculator(java.lang.String,java.lang.String,long,java.util.function.Consumer,velox.api.layer1.layers.strategies.interfaces.InvalidateInterface)">
<h3>createOnlineValueCalculator</h3>
<div class="member-signature"><span class="return-type"><a href="OnlineValueCalculatorAdapter.html" title="interface in velox.api.layer1.layers.strategies.interfaces">OnlineValueCalculatorAdapter</a></span>&nbsp;<span class="element-name">createOnlineValueCalculator</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorName,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorAlias,
 long&nbsp;time,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;listener,
 <a href="InvalidateInterface.html" title="interface in velox.api.layer1.layers.strategies.interfaces">InvalidateInterface</a>&nbsp;invalidateInterface)</span></div>
<div class="block">2nd request type:</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>indicatorName</code> - name of indicator</dd>
<dd><code>indicatorAlias</code> - alias of this indicator</dd>
<dd><code>time</code> - starting with this time values are computed online</dd>
<dd><code>listener</code> - can be used in following ways:
  <br>a) you can return generated events via listener (see <a href="CalculatedResultListener.html#provideResponse(java.lang.Object)"><code>CalculatedResultListener.provideResponse(Object)</code></a> for supported object types
  <br>b) you can use <a href="IndicatorFullValues.html" title="interface in velox.api.layer1.layers.strategies.interfaces"><code>IndicatorFullValues</code></a> to fully update historical values of your indicator</dd>
<dd><code>invalidateInterface</code> - can be used to invalidate indicator</dd>
<dt>Returns:</dt>
<dd>value calculator for this strategy</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shouldRepeatCalculateValuesInRange(java.lang.String,java.lang.String,long,long)">
<h3>shouldRepeatCalculateValuesInRange</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">shouldRepeatCalculateValuesInRange</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorName,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorAlias,
 long&nbsp;intervalWidth,
 long&nbsp;timePassed)</span></div>
<div class="block"><b>Experimental! Note that if you use this functionality, you should always use <a href="OnlineValueCalculatorAdapter.html#onTimeSourceProvided(java.util.function.LongSupplier)"><code>OnlineValueCalculatorAdapter.onTimeSourceProvided(LongSupplier)</code></a> as your time source! </b><br>
 <p>
 By default Bookmap will repeat
 <a href="#calculateValuesInRange(java.lang.String,java.lang.String,long,long,int,velox.api.layer1.layers.strategies.interfaces.CalculatedResultListener)"><code>calculateValuesInRange(String, String, long, long, int, CalculatedResultListener)</code></a>
 request if by the time response is handled more than one intervalWidth
 passed. However sometimes (if calculateValuesInRange is relatively slow
 and/or user is zoomed in closely, so chart moves fast) it can be repeated too
 many times (or even continiously, as long as chart moves). While it can be
 acceptable in some cases, you can improve the performance by telling bookmap
 to switch to <a href="OnlineValueCalculatorAdapter.html" title="interface in velox.api.layer1.layers.strategies.interfaces"><code>OnlineValueCalculatorAdapter</code></a> earlier.
 </p>
 <p> You can return false when you believe there are not too many
 intervals and not too much time passed for your strategy to effectively process all data in that time interval.
 This will be called by Bookmap only if all data in requested range is ready
 (Bookmap will drop data for for which too many seconds and too many intervals passed)
 <br><b>It's important that this method doesn't block for too long.</b>
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>indicatorName</code> - name of indicator</dd>
<dd><code>indicatorAlias</code> - alias of this indicator</dd>
<dd><code>intervalWidth</code> - width of one calculated interval (in ns).</dd>
<dd><code>timePassed</code> - time passed since the end of
                       <a href="#calculateValuesInRange(java.lang.String,java.lang.String,long,long,int,velox.api.layer1.layers.strategies.interfaces.CalculatedResultListener)"><code>calculateValuesInRange(String, String, long, long, int, CalculatedResultListener)</code></a>
                       range</dd>
<dt>Returns:</dt>
<dd>false to switch to <a href="OnlineValueCalculatorAdapter.html" title="interface in velox.api.layer1.layers.strategies.interfaces"><code>OnlineValueCalculatorAdapter</code></a>, true to use
         <a href="#calculateValuesInRange(java.lang.String,java.lang.String,long,long,int,velox.api.layer1.layers.strategies.interfaces.CalculatedResultListener)"><code>calculateValuesInRange(String, String, long, long, int, CalculatedResultListener)</code></a>
         again.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allowPartialUpdates(java.lang.String,java.lang.String)">
<h3>allowPartialUpdates</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">allowPartialUpdates</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;indicatorName,
 <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alias)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>indicatorName</code> - name of indicator</dd>
<dd><code>alias</code> - alias of this indicator
 Override you want your indicator to receive only full chart range requests (i.e. you don't want to receive 0-1000 pixels request, and then 1000-1020 request to catch up with chart)<br></dd>
<dt>Returns:</dt>
<dd><b>true</b> if you allow partial requests (default implementation), <b>false</b> otherwise</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
